<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <title>Lecturer Dashboard</title>
    <meta charset="UTF-8">
    <meta name="description" content="WebUni Education Template">
    <meta name="keywords" content="webuni, education, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <link href="/img/favicon.ico" rel="shortcut icon"/>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,400i,500,500i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/bootstrap.min1.css"/>
    <link rel="stylesheet" href="/fonts/font-awesome.css"/>
    <link rel="stylesheet" href="/css/Drag-and-Drop-Multiple-File-Form-Input-upload-Advanced.css"/>
    <style>
        .backdrop {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            position: absolute;
            display: block;
            z-index: 10;
            visibility: hidden;
        }

        .backdrop-transition {
            transition-duration: .2s;
            transition-timing-function: cubic-bezier(.25,.8,.25,1);
            transition-property: visibility;
        }

        .backdrop-dark {
            background-color: rgba(0,0,0,.8);
        }
    </style>
</head>

<body>
    <div class="m-5">
        <div id="backdrop" class="backdrop backdrop-transition backdrop-dark">
            <div class="text-center w-100" style="position: absolute;top: 50%;">
                <div class="bg-light border rounded border-success shadow-lg m-auto" style="width: 150px;height: 150px;">
                    <i class="fa fa-upload d-block p-4" style="font-size: 50px;"></i>
                    <span>Drop file to attach</span>
                </div>
            </div>
        </div>
        <div class="bg-light border rounded border-light pt-1 jumbotron py-5 px-4">
            <div class="alert alert-success invisible mt-5" role="alert">
                <span id="notify"></span>
            </div>
            <h1>File Drop<br></h1>
            <p>
                <label class="form-label" for="form-files">
                    <a class="btn btn-secondary btn-sm" role="button">Choose Files</a>
                </label>
                &nbsp;or drag the files to anywhere on this page.<br>
            </p>
            <p id="filecount"><br></p>
            <div id="list"></div>
            <form id="file-form" method="post">
                <input class="form-control invisible" type="file" id="form-files" name="files" multiple>
                <button class="btn btn-outline-primary d-block w-100" type="submit">Submit</button>
                <button class="btn btn-danger mt-5" type="reset" onclick="clearFiles()">Reset</button>
            </form>
        </div>
    </div>
    <script src="/js/bootstrap.min1.js"></script>
    <script src="/js/Drag-and-Drop-Multiple-File-Form-Input-upload-Advanced-drop.js"></script>
    <script>
        document.getElementById('file-form').addEventListener('submit', function(event) {
            const files = document.getElementById('form-files').files;
            let mp4Count = 0;

            if (files.length > 5) {
                event.preventDefault();
                alert('You can upload a maximum of 5 files.');
                return;
            }

            for (let i = 0; i < files.length; i++) {
                if (files[i].type === 'video/mp4') {
                    mp4Count++;
                }
            }

            if (mp4Count < 1) {
                event.preventDefault();
                alert('You must upload at least one MP4 file.');
                return;
            }

            if (mp4Count > 2) {
                event.preventDefault();
                alert('You can upload a maximum of 2 MP4 files.');
                return;
            }
        });

        function clearFiles() {
            document.getElementById('form-files').value = '';
            document.getElementById('filecount').innerText = '';
            document.getElementById('list').innerHTML = '';
        }

        document.getElementById('form-files').addEventListener('change', function() {
            const files = this.files;
            let fileNames = '';

            if (files.length > 7) {
                alert('You can upload a maximum of 7 files.');
                this.value = '';
                return;
            }

            let mp4Count = 0;
            for (let i = 0; i < files.length; i++) {
                fileNames += '<p>' + files[i].name + '</p>';
                if (files[i].type === 'video/mp4') {
                    mp4Count++;
                }
            }

            if (mp4Count < 1) {
                alert('You must upload at least one MP4 file.');
                this.value = '';
                return;
            }

            if (mp4Count > 2) {
                alert('You can upload a maximum of 2 MP4 files.');
                this.value = '';
                return;
            }

            document.getElementById('filecount').innerText = files.length + ' file(s) selected';
            document.getElementById('list').innerHTML = fileNames;
        });
    </script>
</body>

</html>
